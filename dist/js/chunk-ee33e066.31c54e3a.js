(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ee33e066"],{"13d5":function(t,a,e){"use strict";var n=e("23e7"),i=e("d58f").left,r=e("a640"),s=e("ae40"),c=r("reduce"),o=s("reduce",{1:0});n({target:"Array",proto:!0,forced:!c||!o},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1dde":function(t,a,e){var n=e("d039"),i=e("b622"),r=e("2d00"),s=i("species");t.exports=function(t){return r>=51||!n((function(){var a=[],e=a.constructor={};return e[s]=function(){return{foo:1}},1!==a[t](Boolean).foo}))}},2355:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("main",[t._m(0),t._m(1),e("cart-step"),e("div",{staticClass:"container"},[e("div",{staticClass:"table-responsive mt-5"},[e("table",{staticClass:"table text-center"},[t._m(2),e("tbody",{staticClass:"tbody"},t._l(t.cart,(function(a){return e("tr",{key:a.id},[e("td",[e("div",{staticClass:"cartItem",style:"background-image: url('"+a.product.imageUrl+"')"})]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.title))]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.product.price))]),e("td",{staticClass:"align-middle"},[e("button",{staticClass:"btn border border-secondary rounded-0 py-0",attrs:{type:"button"},on:{click:function(t){a.quantity-=1}}},[e("i",{staticClass:"fas fa-minus"})]),e("input",{staticClass:"numInput border border-light text-light\n                text-center",attrs:{type:"number"},domProps:{value:a.quantity}}),e("button",{staticClass:"btn border border-secondary rounded-0 py-0",attrs:{type:"button"},on:{click:function(t){a.quantity+=1}}},[e("i",{staticClass:"fas fa-plus"})])]),e("td",{staticClass:"align-middle"},[t._v(t._s(a.quantity*a.product.price))]),e("td",{staticClass:"align-middle"},[e("span",{staticClass:"pointer",on:{click:function(e){return t.deleteCart(a)}}},[e("i",{staticClass:"fas fa-trash-alt"})])])])})),0),e("tfoot",{staticClass:"tfoot text-right"},[e("td",{attrs:{colspan:"6"}},[e("span",[t._v(" 總共 "),e("span",{staticClass:"text-primary"},[t._v(t._s(t.amount))]),t._v(" 件商品 ")]),e("span",{staticClass:"h5 text-primary mx-3 total"},[t._v(" 總金額 $"+t._s(t.cartTotal)+" ")])])])])]),e("div",{staticClass:"d-flex justify-content-between"},[t._m(3),e("router-link",{staticClass:"btn btn-primary text-dark",attrs:{to:"info"}},[t._v(" 下一步 "),e("i",{staticClass:"fas fa-angle-right"})])],1)])],1)},i=[function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("img",{staticClass:"img-fluid",attrs:{src:e("5fae")}})])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"text-center mt-5 mb-3"},[e("div",{staticClass:"titleName"},[t._v("購物車")]),e("div",{staticClass:"subName"},[t._v("Shopping Cart")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",{staticClass:"thead mb-1"},[e("th",[t._v("商品")]),e("th"),e("th",[t._v("單價")]),e("th",[t._v("數量")]),e("th",[t._v("總價")]),e("th",[t._v("操作")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"btn border-light"},[e("i",{staticClass:"fas fa-angle-left"}),t._v(" 繼續選購 ")])}],r=(e("99af"),e("13d5"),e("4a55")),s={components:{cartStep:r["a"]},data:function(){return{cart:[],amount:0,cartTotal:0}},created:function(){this.getCart()},methods:{getCart:function(){var t=this,a=this.$loading.show(),e="".concat("https://course-ec-api.hexschool.io","/api/").concat("5a9a47b3-910d-4fe0-9fb8-91afdd02ef76","/ec/shopping");this.$http.get(e).then((function(e){a.hide(),console.log(e),t.cart=e.data.data,t.cartAmount()})).catch((function(t){a.hide(),console.log(t)}))},cartAmount:function(){this.amount=this.cart.reduce((function(t,a){return t+a.quantity}),0),this.cartTotal=this.cart.reduce((function(t,a){return t+a.product.price*a.quantity}),0)},deleteCart:function(t){var a=this,e=this.$loading.show(),n="".concat("https://course-ec-api.hexschool.io","/api/").concat("5a9a47b3-910d-4fe0-9fb8-91afdd02ef76","/ec/shopping/").concat(t.product.id);this.$http.delete(n).then((function(t){e.hide(),a.getCart(),a.cartAmount(),console.log(t)})).catch((function(t){e.hide(),console.log(t)}))}}},c=s,o=(e("6367"),e("2877")),l=Object(o["a"])(c,n,i,!1,null,"886bc72e",null);a["default"]=l.exports},"4a55":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"d-flex align-items-center justify-content-center flex-wrap"},[e("div",{staticClass:"d-flex my-3"},[e("div",{staticClass:"step active"},[t._v("1")]),e("div",{staticClass:"stepText active"},[t._v("確認購物車")])]),e("div",{staticClass:"stepArrow active d-none d-md-block"},[e("i",{staticClass:"fas fa-angle-right"})]),e("div",{staticClass:"d-flex my-3"},[e("div",{staticClass:"step"},[t._v("2")]),e("div",{staticClass:"stepText"},[t._v("填寫資料")])]),e("div",{staticClass:"stepArrow d-none d-md-block"},[e("i",{staticClass:"fas fa-angle-right"})]),e("div",{staticClass:"d-flex my-3"},[e("div",{staticClass:"step"},[t._v("3")]),e("div",{staticClass:"stepText"},[t._v("確認訂單")])])])}],r={},s=r,c=e("2877"),o=Object(c["a"])(s,n,i,!1,null,null,null);a["a"]=o.exports},"5fae":function(t,a,e){t.exports=e.p+"img/cart.67372d69.jpg"},6367:function(t,a,e){"use strict";var n=e("a524"),i=e.n(n);i.a},"65f0":function(t,a,e){var n=e("861d"),i=e("e8b5"),r=e("b622"),s=r("species");t.exports=function(t,a){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)?n(e)&&(e=e[s],null===e&&(e=void 0)):e=void 0),new(void 0===e?Array:e)(0===a?0:a)}},8418:function(t,a,e){"use strict";var n=e("c04e"),i=e("9bf2"),r=e("5c6c");t.exports=function(t,a,e){var s=n(a);s in t?i.f(t,s,r(0,e)):t[s]=e}},"99af":function(t,a,e){"use strict";var n=e("23e7"),i=e("d039"),r=e("e8b5"),s=e("861d"),c=e("7b0b"),o=e("50c4"),l=e("8418"),u=e("65f0"),d=e("1dde"),f=e("b622"),v=e("2d00"),p=f("isConcatSpreadable"),h=9007199254740991,b="Maximum allowed index exceeded",m=v>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),C=d("concat"),g=function(t){if(!s(t))return!1;var a=t[p];return void 0!==a?!!a:r(t)},_=!m||!C;n({target:"Array",proto:!0,forced:_},{concat:function(t){var a,e,n,i,r,s=c(this),d=u(s,0),f=0;for(a=-1,n=arguments.length;a<n;a++)if(r=-1===a?s:arguments[a],g(r)){if(i=o(r.length),f+i>h)throw TypeError(b);for(e=0;e<i;e++,f++)e in r&&l(d,f,r[e])}else{if(f>=h)throw TypeError(b);l(d,f++,r)}return d.length=f,d}})},a524:function(t,a,e){},a640:function(t,a,e){"use strict";var n=e("d039");t.exports=function(t,a){var e=[][t];return!!e&&n((function(){e.call(null,a||function(){throw 1},1)}))}},ae40:function(t,a,e){var n=e("83ab"),i=e("d039"),r=e("5135"),s=Object.defineProperty,c={},o=function(t){throw t};t.exports=function(t,a){if(r(c,t))return c[t];a||(a={});var e=[][t],l=!!r(a,"ACCESSORS")&&a.ACCESSORS,u=r(a,0)?a[0]:o,d=r(a,1)?a[1]:void 0;return c[t]=!!e&&!i((function(){if(l&&!n)return!0;var t={length:-1};l?s(t,1,{enumerable:!0,get:o}):t[1]=1,e.call(t,u,d)}))}},d58f:function(t,a,e){var n=e("1c0b"),i=e("7b0b"),r=e("44ad"),s=e("50c4"),c=function(t){return function(a,e,c,o){n(e);var l=i(a),u=r(l),d=s(l.length),f=t?d-1:0,v=t?-1:1;if(c<2)while(1){if(f in u){o=u[f],f+=v;break}if(f+=v,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=v)f in u&&(o=e(o,u[f],f,l));return o}};t.exports={left:c(!1),right:c(!0)}},e8b5:function(t,a,e){var n=e("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-ee33e066.31c54e3a.js.map