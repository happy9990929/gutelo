(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-26467474"],{"13d5":function(t,e,a){"use strict";var n=a("23e7"),i=a("d58f").left,r=a("a640"),s=a("ae40"),c=r("reduce"),o=s("reduce",{1:0});n({target:"Array",proto:!0,forced:!c||!o},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1dde":function(t,e,a){var n=a("d039"),i=a("b622"),r=a("2d00"),s=i("species");t.exports=function(t){return r>=51||!n((function(){var e=[],a=e.constructor={};return a[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},2355:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[t._m(0),t._m(1),a("cart-step"),a("div",{staticClass:"container"},[a("div",{staticClass:"table-responsive mt-5"},[a("table",{staticClass:"table text-center"},[t._m(2),a("tbody",{staticClass:"tbody"},t._l(t.cart,(function(e){return a("tr",{key:e.id},[a("td",[a("div",{staticClass:"cartItem",style:"background-image: url('"+e.product.imageUrl+"')"})]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.title))]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.product.price))]),a("td",{staticClass:"align-middle"},[t._v(" "+t._s(e.quantity)+" ")]),a("td",{staticClass:"align-middle"},[t._v(t._s(e.quantity*e.product.price))]),a("td",{staticClass:"align-middle"},[a("span",{staticClass:"pointer",on:{click:function(a){return t.deleteCart(e)}}},[a("i",{staticClass:"fas fa-trash-alt"})])])])})),0),a("tfoot",{staticClass:"tfoot text-right"},[a("td",{attrs:{colspan:"6"}},[a("span",[t._v(" 總共 "),a("span",{staticClass:"text-primary"},[t._v(t._s(t.amount))]),t._v(" 件商品 ")]),a("span",{staticClass:"h5 text-primary mx-3 total"},[t._v(" 總金額 $"+t._s(t.cartTotal)+" ")])])])])]),a("div",{staticClass:"d-flex justify-content-between"},[t._m(3),a("router-link",{staticClass:"btn btn-primary text-dark",attrs:{to:"info"}},[t._v(" 下一步 "),a("i",{staticClass:"fas fa-angle-right"})])],1)])],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("img",{staticClass:"img-fluid",attrs:{src:a("5fae")}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center mt-5 mb-3"},[a("div",{staticClass:"titleName"},[t._v("購物車")]),a("div",{staticClass:"subName"},[t._v("Shopping Cart")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead mb-1"},[a("th",[t._v("商品")]),a("th"),a("th",[t._v("單價")]),a("th",[t._v("數量")]),a("th",[t._v("總價")]),a("th",[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn border-light"},[a("i",{staticClass:"fas fa-angle-left"}),t._v(" 繼續選購 ")])}],r=(a("99af"),a("13d5"),a("4a55")),s={components:{cartStep:r["a"]},data:function(){return{cart:[],amount:0,cartTotal:0}},created:function(){this.getCart()},methods:{getCart:function(){var t=this,e=this.$loading.show(),a="".concat("https://course-ec-api.hexschool.io","/api/").concat("5a9a47b3-910d-4fe0-9fb8-91afdd02ef76","/ec/shopping");this.$http.get(a).then((function(a){e.hide(),console.log(a),t.cart=a.data.data,t.cartAmount()})).catch((function(t){e.hide(),console.log(t)}))},cartAmount:function(){this.amount=this.cart.reduce((function(t,e){return t+e.quantity}),0),this.cartTotal=this.cart.reduce((function(t,e){return t+e.product.price*e.quantity}),0)},deleteCart:function(t){var e=this,a=this.$loading.show(),n="".concat("https://course-ec-api.hexschool.io","/api/").concat("5a9a47b3-910d-4fe0-9fb8-91afdd02ef76","/ec/shopping/").concat(t.product.id);this.$http.delete(n).then((function(t){a.hide(),e.getCart(),e.cartAmount(),console.log(t)})).catch((function(t){a.hide(),console.log(t)}))}}},c=s,o=(a("a4ce"),a("2877")),l=Object(o["a"])(c,n,i,!1,null,"6f205b8f",null);e["default"]=l.exports},"4a55":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"d-flex align-items-center justify-content-center flex-wrap"},[a("div",{staticClass:"d-flex my-3"},[a("div",{staticClass:"step active"},[t._v("1")]),a("div",{staticClass:"stepText active"},[t._v("確認購物車")])]),a("div",{staticClass:"stepArrow active d-none d-md-block"},[a("i",{staticClass:"fas fa-angle-right"})]),a("div",{staticClass:"d-flex my-3"},[a("div",{staticClass:"step"},[t._v("2")]),a("div",{staticClass:"stepText"},[t._v("填寫資料")])]),a("div",{staticClass:"stepArrow d-none d-md-block"},[a("i",{staticClass:"fas fa-angle-right"})]),a("div",{staticClass:"d-flex my-3"},[a("div",{staticClass:"step"},[t._v("3")]),a("div",{staticClass:"stepText"},[t._v("確認訂單")])])])}],r={},s=r,c=a("2877"),o=Object(c["a"])(s,n,i,!1,null,null,null);e["a"]=o.exports},"5fae":function(t,e,a){t.exports=a.p+"img/cart.67372d69.jpg"},"65f0":function(t,e,a){var n=a("861d"),i=a("e8b5"),r=a("b622"),s=r("species");t.exports=function(t,e){var a;return i(t)&&(a=t.constructor,"function"!=typeof a||a!==Array&&!i(a.prototype)?n(a)&&(a=a[s],null===a&&(a=void 0)):a=void 0),new(void 0===a?Array:a)(0===e?0:e)}},8418:function(t,e,a){"use strict";var n=a("c04e"),i=a("9bf2"),r=a("5c6c");t.exports=function(t,e,a){var s=n(e);s in t?i.f(t,s,r(0,a)):t[s]=a}},"99af":function(t,e,a){"use strict";var n=a("23e7"),i=a("d039"),r=a("e8b5"),s=a("861d"),c=a("7b0b"),o=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),f=a("b622"),v=a("2d00"),p=f("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",C=v>=51||!i((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),_=d("concat"),g=function(t){if(!s(t))return!1;var e=t[p];return void 0!==e?!!e:r(t)},b=!C||!_;n({target:"Array",proto:!0,forced:b},{concat:function(t){var e,a,n,i,r,s=c(this),d=u(s,0),f=0;for(e=-1,n=arguments.length;e<n;e++)if(r=-1===e?s:arguments[e],g(r)){if(i=o(r.length),f+i>h)throw TypeError(m);for(a=0;a<i;a++,f++)a in r&&l(d,f,r[a])}else{if(f>=h)throw TypeError(m);l(d,f++,r)}return d.length=f,d}})},a4ce:function(t,e,a){"use strict";var n=a("c261"),i=a.n(n);i.a},a640:function(t,e,a){"use strict";var n=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&n((function(){a.call(null,e||function(){throw 1},1)}))}},ae40:function(t,e,a){var n=a("83ab"),i=a("d039"),r=a("5135"),s=Object.defineProperty,c={},o=function(t){throw t};t.exports=function(t,e){if(r(c,t))return c[t];e||(e={});var a=[][t],l=!!r(e,"ACCESSORS")&&e.ACCESSORS,u=r(e,0)?e[0]:o,d=r(e,1)?e[1]:void 0;return c[t]=!!a&&!i((function(){if(l&&!n)return!0;var t={length:-1};l?s(t,1,{enumerable:!0,get:o}):t[1]=1,a.call(t,u,d)}))}},c261:function(t,e,a){},d58f:function(t,e,a){var n=a("1c0b"),i=a("7b0b"),r=a("44ad"),s=a("50c4"),c=function(t){return function(e,a,c,o){n(a);var l=i(e),u=r(l),d=s(l.length),f=t?d-1:0,v=t?-1:1;if(c<2)while(1){if(f in u){o=u[f],f+=v;break}if(f+=v,t?f<0:d<=f)throw TypeError("Reduce of empty array with no initial value")}for(;t?f>=0:d>f;f+=v)f in u&&(o=a(o,u[f],f,l));return o}};t.exports={left:c(!1),right:c(!0)}},e8b5:function(t,e,a){var n=a("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}}}]);
//# sourceMappingURL=chunk-26467474.bf371b69.js.map